---
icon: akar-icons:file
date: 2025-11-12
order: 3
category:
  - React
---

# React 19 核心特征

## Action 表单交互的革命

** 使用<form> 的 action 属性简化数据提交 **

在 React 19 中，我们可以直接将一个函数（即 Action）传递给原生的`<form>` 元素的`action`属性,当你提交这个表单的时候，React 会自动拦截提交事件，处理表单数据的序列化`（FormData）`, 并调用你提供的 Action 函数，这意味着，我们可以告别`onSubmit`事件处理器和`preventDefault()`。

```tsx
const OldForm = () => {
  const handleSubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    // 手动处理表单数据
  };
  return (
    <form onSubmit={handleSubmit}>
      <input type="text" name="username" />
      <input type="password" name="password" />
      <button type="submit">提交</button>
    </form>
  );
};
// react 19中的新方式
const NewForm = () => {
  const handleSubmit = async (formData) => {
    // 自动处理表单数据
  };
  return (
    <form action={handleSubmit}>
      <input type="text" name="username" />
      <input type="password" name="password" />
      <button type="submit">提交</button>
    </form>
  );
};
```

**使用 useActionState 处理 Pending/Error/Success 状态**

Action 的真正威力在于它内置了对异步流程状态的管理能力。useActionState 是专门为此设计的。它接收一个 Action 函数和初始状态，然后返回了一个包含当前状态、一个可被调用的新 Action 以及一个 pedding 状态的数组。

```tsx
import { useActionState } from "react";

const AddToCartForm = async (previousState, formData) => {
  const quantity = formData.get("quantity");
  const result = await addToCart({
    productId: formData.get("productId"),
    quantity: Number(quantity),
  });
  if (result.success) {
    return { success: true };
  }
};
```
