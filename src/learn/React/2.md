---
icon: akar-icons:file
date: 2025-11-11
order: 2
category:
  - React
---

# 组件化开发核心
## Props 和组件通信
组件之间相互协作，传递信息，共同构建完整的用户界面。实现组件间通信最基础、最核心的机制，就是Props。
父传子通过Props 子传父通过事件处理
```tsx title="App.tsx"
function App() {
    return (
        <Hellow title="hello" onChange={(count) => {console.log(count)}} />
    )
}

```

```tsx title="Hellow.tsx"

interface HellowPropr {
    // 父传子
    title: string;
    render?: (count: number) => React.ReactNode;
    // 子传父
    onChange?: (count: number) => void;
}

export const Hellow = (props: HellowPropr) => {
    const { title, render, onChange } = props
    const [count, setCount] = useState(0);
    
    const handleAdd = () => {
        setCount(count + 1);
        onChange?.(count + 1);
    }
    
    return (
        <div>
            Hellow {title} --- {count}
            <button onClick={handleAdd}>+</button>
            {render?.(count)}
        </div>
    )
};
```
在这里onChange 就上子组件可以向父组件发送消息的方式。
## 状态管理入门 useState
- Props 是从外部传入且不可变的，而State则是组件内部自己管理数据，它是可变的。在函数式组件中，我们用来赋予组件状态能力的就上useState。
- useState 的调用本身非常简单，它接收一个参数作为状态的初始值，然后返回一个包含两个元素的数组。我们通常使用JavaScript的数组结构语法来接收这两个值。


当我们调用更新函数时，React主要会做两件事
1. 它会计划一次对状态的更新，将新的状态值保存起来。
2. 它会触发该组件的一次重新渲染

在下一次渲染发生时，useState会返回更新后的最新状态值。真是珍格格“状态更新 -> 触发重新渲染 -> 使用新状态渲染UI”的循环，构成了React动态交互的核心。

```tsx
import { useState } from "react"

const Counter = () => {
    const [count, setCount] = useState(0);
    const handleIncrement = () => {
        setCount(count + 1);
    }
    return (
        <div>
            <p>{count}</p>
            <button onClick={handleIncrement}>+</button>
        </div>
    )
}
```