---
icon: akar-icons:file
date: 2025-04-02
category:
  - TypeScript
---

# 基本用法

## 类型声明

TypeScript 代码最明显的特征，就是为 JavaScript 变量加上了类型声明

```ts :no-line-numbers
let foo: string;
```

上面示例中，变量`foo`的后面使用冒号，声明了它的类型为`string`。
类型声明的写法，一律为在标识符后面添加“冒号 + 类型”。函数参数和返回值，也是这样来声明类型。

```ts :no-line-numbers
function toString(num: number): string {
    return String(num);
}
```

上面示例中，函数`toString()`的参数`num`的类型是`number`。参数列表的圆括号后面，声明了返回值的类型是`string`。
注意，变量的值应该与声明的类型一致，如果不一致，TypeScript 就会报错。

## 类型推断

类型声明并不是必需的，如果没有，TypeScript 会自己推断类型。

```ts :no-line-numbers
let foo = 123;
```

上面示例中，变量foo并没有类型声明，TypeScript 就会推断它的类型。由于它被赋值为一个数值，因此 TypeScript 推断它的类型为number。
后面，如果变量foo更改为其他类型的值，跟推断的类型不一致，TypeScript 就会报错

TypeScript 也可以推断函数的返回值。

```ts :no-line-numbers
function toString(num: number) {
    return String(num);
}
```

## TypeScript Playground

最简单的 TypeScript 使用方法，就是使用官网的在线编译页面，叫做

[TypeScript Playground](https://www.typescriptlang.org/play/)

## Ts-node 模块

[ts-node](https://github.com/TypeStrong/ts-node) 是一个非官方的 npm 模块，可以直接运行 TypeScript 代码。
使用时，可以先全局安装它。

```shell
$ npm install -g ts-node
```

安装后，就可以直接运行 TypeScript 脚本。

```shell
$ ts-node script.ts
```

上面命令运行了 TypeScript 脚本script.ts，给出运行结果。
如果不安装 ts-node，也可以通过 npx 调用它来运行 TypeScript 脚本。

```shell
$ npx ts-node script.ts
```

上面命令中，npx会在线调用 ts-node，从而在不安装的情况下，运行script.ts。
如果执行 ts-node 命令不带有任何参数，它会提供一个 TypeScript 的命令行 REPL 运行环境，你可以在这个环境中输入 TypeScript
代码，逐行执行。

```shell
$ ts-node
```

上面示例中，单独运行ts-node命令，会给出一个大于号，这就是 TypeScript 的 REPL 运行环境，可以逐行输入代码运行。

```shell
$ ts-node
const twice = (x:string) => x + x;
twice('abc')
'abcabc'
> 
```

上面示例中，在 TypeScript 命令行 REPL 环境中，先输入一个函数twice，然后调用该函数，就会得到结果。
要退出这个 REPL 环境，可以按下 Ctrl + d，或者输入.exit。
如果只是想简单运行 TypeScript 代码看看结果，ts-node 不失为一个便捷的方法。